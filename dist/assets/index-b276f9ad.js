import{b as _e,k as bt,T as wt,u as pe,E as Z,_ as Re,a as Gt,w as qe,d as Le,m as Qe,i as Ne,f as Yt,s as Kt,c as Xt,e as Wt,g as yt,h as Ct,j as Et,z as Zt,l as Jt,r as jt,n as ea,o as Ie,p as ae,q as St,t as ta,v as aa,x as na,y as at,A as nt,B as sa,C as oa,L as st,D as se,F as He,G as ra,H as we,I as ie,J as ge,S as be,K as la,M as ia,N as ca,O as Ae,P as It,Q as Ce,R as ua,U as da,V as fa,W as va,X as ma,Y as _a,Z as pa,$ as ha,a0 as ga,a1 as ba,a2 as wa,a3 as ya,a4 as Be,a5 as Ca,a6 as Ea,a7 as Sa,a8 as Ia,a9 as Ma,aa as Na}from"./index-1285a334.js";import{E as Ee,v as Aa,j as Se,a as Ta,b as Mt,c as Pa,M as $a,u as Ra,d as La}from"./message-55c9dbc8.js";import{a0 as ka,s as Nt,Q as za,z as x,a1 as At,r as R,v as P,k as y,J as G,D as N,E as ne,m as C,F as D,u as m,M as Tt,L as F,l as L,A as ye,a2 as te,G as re,O as ce,C as h,H as ve,T as Pt,a3 as ot,a4 as Oa,w as X,n as ke,e as he,K as Te,P as xa,a5 as ze,a6 as Ba,t as Ge,g as Oe,a7 as Ye,y as Ua,h as Da,X as Ke,o as Xe,a8 as me,a as $t,a9 as Rt,aa as Lt,ab as Fa,ac as rt,ad as Va,Z as qa}from"./vue-656d1634.js";import{P as Qa,g as Ha}from"./xgplayer-9c9652e6.js";import{f as Ga,t as Ue,a as We,u as Ya,U as kt,E as Ze,b as zt,_ as Je,c as Ot,d as xt,e as Ka}from"./useCached-4f487c00.js";import{E as Xa}from"./index-cecbf38c.js";const le=n=>ka(n),Wa=(n,r,c)=>Ga(n.subTree).filter(i=>{var a;return za(i)&&((a=i.type)==null?void 0:a.name)===r&&!!i.component}).map(i=>i.component.uid).map(i=>c[i]).filter(i=>!!i),Za=(n,r)=>{const c={},u=Nt([]);return{children:u,addChild:a=>{c[a.uid]=a,u.value=Wa(n,r,c)},removeChild:a=>{delete c[a],u.value=u.value.filter(e=>e.uid!==a)}}},Ja=["light","dark"],ja=_e({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:bt(wt),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:Ja,default:"light"}}),en={close:n=>n instanceof MouseEvent},tn=x({name:"ElAlert"}),an=x({...tn,props:ja,emits:en,setup(n,{emit:r}){const c=n,{Close:u}=Gt,v=At(),i=pe("alert"),a=R(!0),e=P(()=>wt[c.type]),t=P(()=>[i.e("icon"),{[i.is("big")]:!!c.description||!!v.default}]),o=P(()=>({[i.is("bold")]:c.description||v.default})),s=l=>{a.value=!1,r("close",l)};return(l,d)=>(y(),G(Pt,{name:m(i).b("fade"),persisted:""},{default:N(()=>[ne(C("div",{class:D([m(i).b(),m(i).m(l.type),m(i).is("center",l.center),m(i).is(l.effect)]),role:"alert"},[l.showIcon&&m(e)?(y(),G(m(Z),{key:0,class:D(m(t))},{default:N(()=>[(y(),G(Tt(m(e))))]),_:1},8,["class"])):F("v-if",!0),C("div",{class:D(m(i).e("content"))},[l.title||l.$slots.title?(y(),L("span",{key:0,class:D([m(i).e("title"),m(o)])},[ye(l.$slots,"title",{},()=>[te(re(l.title),1)])],2)):F("v-if",!0),l.$slots.default||l.description?(y(),L("p",{key:1,class:D(m(i).e("description"))},[ye(l.$slots,"default",{},()=>[te(re(l.description),1)])],2)):F("v-if",!0),l.closable?(y(),L(ce,{key:2},[l.closeText?(y(),L("div",{key:0,class:D([m(i).e("close-btn"),m(i).is("customed")]),onClick:s},re(l.closeText),3)):(y(),G(m(Z),{key:1,class:D(m(i).e("close-btn")),onClick:s},{default:N(()=>[h(m(u))]),_:1},8,["class"]))],64)):F("v-if",!0)],2)],2),[[ve,a.value]])]),_:3},8,["name"]))}});var nn=Re(an,[["__file","/home/runner/work/element-plus/element-plus/packages/components/alert/src/alert.vue"]]);const sn=qe(nn),on=_e({urlList:{type:Le(Array),default:()=>Qe([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2}}),rn={close:()=>!0,switch:n=>Ne(n),rotate:n=>Ne(n)},ln=["src"],cn=x({name:"ElImageViewer"}),un=x({...cn,props:on,emits:rn,setup(n,{expose:r,emit:c}){const u=n,v={CONTAIN:{name:"contain",icon:ot(Yt)},ORIGINAL:{name:"original",icon:ot(Kt)}},{t:i}=Xt(),a=pe("image-viewer"),{nextZIndex:e}=Wt(),t=R(),o=R([]),s=Oa(),l=R(!0),d=R(u.initialIndex),f=Nt(v.CONTAIN),p=R({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),g=P(()=>{const{urlList:I}=u;return I.length<=1}),w=P(()=>d.value===0),_=P(()=>d.value===u.urlList.length-1),b=P(()=>u.urlList[d.value]),E=P(()=>[a.e("btn"),a.e("prev"),a.is("disabled",!u.infinite&&w.value)]),S=P(()=>[a.e("btn"),a.e("next"),a.is("disabled",!u.infinite&&_.value)]),O=P(()=>{const{scale:I,deg:$,offsetX:U,offsetY:J,enableTransition:ee}=p.value;let Y=U/I,oe=J/I;switch($%360){case 90:case-270:[Y,oe]=[oe,-Y];break;case 180:case-180:[Y,oe]=[-Y,-oe];break;case 270:case-90:[Y,oe]=[-oe,Y];break}const de={transform:`scale(${I}) rotate(${$}deg) translate(${Y}px, ${oe}px)`,transition:ee?"transform .3s":""};return f.value.name===v.CONTAIN.name&&(de.maxWidth=de.maxHeight="100%"),de}),V=P(()=>Ne(u.zIndex)?u.zIndex:e());function Q(){A(),c("close")}function W(){const I=Ue(U=>{switch(U.code){case ae.esc:u.closeOnPressEscape&&Q();break;case ae.space:B();break;case ae.left:K();break;case ae.up:j("zoomIn");break;case ae.right:H();break;case ae.down:j("zoomOut");break}}),$=Ue(U=>{const J=U.deltaY||U.deltaX;j(J<0?"zoomIn":"zoomOut",{zoomRate:u.zoomRate,enableTransition:!1})});s.run(()=>{Ie(document,"keydown",I),Ie(document,"wheel",$)})}function A(){s.stop()}function k(){l.value=!1}function M(I){l.value=!1,I.target.alt=i("el.image.error")}function q(I){if(l.value||I.button!==0||!t.value)return;p.value.enableTransition=!1;const{offsetX:$,offsetY:U}=p.value,J=I.pageX,ee=I.pageY,Y=Ue(de=>{p.value={...p.value,offsetX:$+de.pageX-J,offsetY:U+de.pageY-ee}}),oe=Ie(document,"mousemove",Y);Ie(document,"mouseup",()=>{oe()}),I.preventDefault()}function z(){p.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function B(){if(l.value)return;const I=bt(v),$=Object.values(v),U=f.value.name,ee=($.findIndex(Y=>Y.name===U)+1)%I.length;f.value=v[I[ee]],z()}function T(I){const $=u.urlList.length;d.value=(I+$)%$}function K(){w.value&&!u.infinite||T(d.value-1)}function H(){_.value&&!u.infinite||T(d.value+1)}function j(I,$={}){if(l.value)return;const{zoomRate:U,rotateDeg:J,enableTransition:ee}={zoomRate:u.zoomRate,rotateDeg:90,enableTransition:!0,...$};switch(I){case"zoomOut":p.value.scale>.2&&(p.value.scale=Number.parseFloat((p.value.scale/U).toFixed(3)));break;case"zoomIn":p.value.scale<7&&(p.value.scale=Number.parseFloat((p.value.scale*U).toFixed(3)));break;case"clockwise":p.value.deg+=J,c("rotate",p.value.deg);break;case"anticlockwise":p.value.deg-=J,c("rotate",p.value.deg);break}p.value.enableTransition=ee}return X(b,()=>{ke(()=>{const I=o.value[0];I!=null&&I.complete||(l.value=!0)})}),X(d,I=>{z(),c("switch",I)}),he(()=>{var I,$;W(),($=(I=t.value)==null?void 0:I.focus)==null||$.call(I)}),r({setActiveItem:T}),(I,$)=>(y(),G(Ba,{to:"body",disabled:!I.teleported},[h(Pt,{name:"viewer-fade",appear:""},{default:N(()=>[C("div",{ref_key:"wrapper",ref:t,tabindex:-1,class:D(m(a).e("wrapper")),style:Te({zIndex:m(V)})},[C("div",{class:D(m(a).e("mask")),onClick:$[0]||($[0]=xa(U=>I.hideOnClickModal&&Q(),["self"]))},null,2),F(" CLOSE "),C("span",{class:D([m(a).e("btn"),m(a).e("close")]),onClick:Q},[h(m(Z),null,{default:N(()=>[h(m(yt))]),_:1})],2),F(" ARROW "),m(g)?F("v-if",!0):(y(),L(ce,{key:0},[C("span",{class:D(m(E)),onClick:K},[h(m(Z),null,{default:N(()=>[h(m(Ct))]),_:1})],2),C("span",{class:D(m(S)),onClick:H},[h(m(Z),null,{default:N(()=>[h(m(Et))]),_:1})],2)],64)),F(" ACTIONS "),C("div",{class:D([m(a).e("btn"),m(a).e("actions")])},[C("div",{class:D(m(a).e("actions__inner"))},[h(m(Z),{onClick:$[1]||($[1]=U=>j("zoomOut"))},{default:N(()=>[h(m(Zt))]),_:1}),h(m(Z),{onClick:$[2]||($[2]=U=>j("zoomIn"))},{default:N(()=>[h(m(Jt))]),_:1}),C("i",{class:D(m(a).e("actions__divider"))},null,2),h(m(Z),{onClick:B},{default:N(()=>[(y(),G(Tt(m(f).icon)))]),_:1}),C("i",{class:D(m(a).e("actions__divider"))},null,2),h(m(Z),{onClick:$[3]||($[3]=U=>j("anticlockwise"))},{default:N(()=>[h(m(jt))]),_:1}),h(m(Z),{onClick:$[4]||($[4]=U=>j("clockwise"))},{default:N(()=>[h(m(ea))]),_:1})],2)],2),F(" CANVAS "),C("div",{class:D(m(a).e("canvas"))},[(y(!0),L(ce,null,ze(I.urlList,(U,J)=>ne((y(),L("img",{ref_for:!0,ref:ee=>o.value[J]=ee,key:U,src:U,style:Te(m(O)),class:D(m(a).e("img")),onLoad:k,onError:M,onMousedown:q},null,46,ln)),[[ve,J===d.value]])),128))],2),ye(I.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var dn=Re(un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/image-viewer/src/image-viewer.vue"]]);const fn=qe(dn),xe=Symbol("tabsRootContextKey"),vn=_e({tabs:{type:Le(Array),default:()=>Qe([])}}),Bt="ElTabBar",mn=x({name:Bt}),_n=x({...mn,props:vn,setup(n,{expose:r}){const c=n,u=Oe(),v=Ge(xe);v||We(Bt,"<el-tabs><el-tab-bar /></el-tabs>");const i=pe("tabs"),a=R(),e=R(),t=()=>{let s=0,l=0;const d=["top","bottom"].includes(v.props.tabPosition)?"width":"height",f=d==="width"?"x":"y",p=f==="x"?"left":"top";return c.tabs.every(g=>{var w,_;const b=(_=(w=u.parent)==null?void 0:w.refs)==null?void 0:_[`tab-${g.uid}`];if(!b)return!1;if(!g.active)return!0;s=b[`offset${le(p)}`],l=b[`client${le(d)}`];const E=window.getComputedStyle(b);return d==="width"&&(c.tabs.length>1&&(l-=Number.parseFloat(E.paddingLeft)+Number.parseFloat(E.paddingRight)),s+=Number.parseFloat(E.paddingLeft)),!1}),{[d]:`${l}px`,transform:`translate${le(f)}(${s}px)`}},o=()=>e.value=t();return X(()=>c.tabs,async()=>{await ke(),o()},{immediate:!0}),St(a,()=>o()),r({ref:a,update:o}),(s,l)=>(y(),L("div",{ref_key:"barRef",ref:a,class:D([m(i).e("active-bar"),m(i).is(m(v).props.tabPosition)]),style:Te(e.value)},null,6))}});var pn=Re(_n,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const hn=_e({panes:{type:Le(Array),default:()=>Qe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),gn={tabClick:(n,r,c)=>c instanceof Event,tabRemove:(n,r)=>r instanceof Event},lt="ElTabNav",bn=x({name:lt,props:hn,emits:gn,setup(n,{expose:r,emit:c}){const u=Oe(),v=Ge(xe);v||We(lt,"<el-tabs><tab-nav /></el-tabs>");const i=pe("tabs"),a=ta(),e=aa(),t=R(),o=R(),s=R(),l=R(),d=R(!1),f=R(0),p=R(!1),g=R(!0),w=P(()=>["top","bottom"].includes(v.props.tabPosition)?"width":"height"),_=P(()=>({transform:`translate${w.value==="width"?"X":"Y"}(-${f.value}px)`})),b=()=>{if(!t.value)return;const A=t.value[`offset${le(w.value)}`],k=f.value;if(!k)return;const M=k>A?k-A:0;f.value=M},E=()=>{if(!t.value||!o.value)return;const A=o.value[`offset${le(w.value)}`],k=t.value[`offset${le(w.value)}`],M=f.value;if(A-M<=k)return;const q=A-M>k*2?M+k:A-k;f.value=q},S=async()=>{const A=o.value;if(!d.value||!s.value||!t.value||!A)return;await ke();const k=s.value.querySelector(".is-active");if(!k)return;const M=t.value,q=["top","bottom"].includes(v.props.tabPosition),z=k.getBoundingClientRect(),B=M.getBoundingClientRect(),T=q?A.offsetWidth-B.width:A.offsetHeight-B.height,K=f.value;let H=K;q?(z.left<B.left&&(H=K-(B.left-z.left)),z.right>B.right&&(H=K+z.right-B.right)):(z.top<B.top&&(H=K-(B.top-z.top)),z.bottom>B.bottom&&(H=K+(z.bottom-B.bottom))),H=Math.max(H,0),f.value=Math.min(H,T)},O=()=>{var A;if(!o.value||!t.value)return;n.stretch&&((A=l.value)==null||A.update());const k=o.value[`offset${le(w.value)}`],M=t.value[`offset${le(w.value)}`],q=f.value;M<k?(d.value=d.value||{},d.value.prev=q,d.value.next=q+M<k,k-q<M&&(f.value=k-M)):(d.value=!1,q>0&&(f.value=0))},V=A=>{const k=A.code,{up:M,down:q,left:z,right:B}=ae;if(![M,q,z,B].includes(k))return;const T=Array.from(A.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),K=T.indexOf(A.target);let H;k===z||k===M?K===0?H=T.length-1:H=K-1:K<T.length-1?H=K+1:H=0,T[H].focus({preventScroll:!0}),T[H].click(),Q()},Q=()=>{g.value&&(p.value=!0)},W=()=>p.value=!1;return X(a,A=>{A==="hidden"?g.value=!1:A==="visible"&&setTimeout(()=>g.value=!0,50)}),X(e,A=>{A?setTimeout(()=>g.value=!0,50):g.value=!1}),St(s,O),he(()=>setTimeout(()=>S(),0)),Ye(()=>O()),r({scrollToActiveTab:S,removeFocus:W}),X(()=>n.panes,()=>u.update(),{flush:"post",deep:!0}),()=>{const A=d.value?[h("span",{class:[i.e("nav-prev"),i.is("disabled",!d.value.prev)],onClick:b},[h(Z,null,{default:()=>[h(Ct,null,null)]})]),h("span",{class:[i.e("nav-next"),i.is("disabled",!d.value.next)],onClick:E},[h(Z,null,{default:()=>[h(Et,null,null)]})])]:null,k=n.panes.map((M,q)=>{var z,B,T,K;const H=M.uid,j=M.props.disabled,I=(B=(z=M.props.name)!=null?z:M.index)!=null?B:`${q}`,$=!j&&(M.isClosable||n.editable);M.index=`${q}`;const U=$?h(Z,{class:"is-icon-close",onClick:Y=>c("tabRemove",M,Y)},{default:()=>[h(yt,null,null)]}):null,J=((K=(T=M.slots).label)==null?void 0:K.call(T))||M.props.label,ee=!j&&M.active?0:-1;return h("div",{ref:`tab-${H}`,class:[i.e("item"),i.is(v.props.tabPosition),i.is("active",M.active),i.is("disabled",j),i.is("closable",$),i.is("focus",p.value)],id:`tab-${I}`,key:`tab-${H}`,"aria-controls":`pane-${I}`,role:"tab","aria-selected":M.active,tabindex:ee,onFocus:()=>Q(),onBlur:()=>W(),onClick:Y=>{W(),c("tabClick",M,I,Y)},onKeydown:Y=>{$&&(Y.code===ae.delete||Y.code===ae.backspace)&&c("tabRemove",M,Y)}},[J,U])});return h("div",{ref:s,class:[i.e("nav-wrap"),i.is("scrollable",!!d.value),i.is(v.props.tabPosition)]},[A,h("div",{class:i.e("nav-scroll"),ref:t},[h("div",{class:[i.e("nav"),i.is(v.props.tabPosition),i.is("stretch",n.stretch&&["top","bottom"].includes(v.props.tabPosition))],ref:o,style:_.value,role:"tablist",onKeydown:V},[n.type?null:h(pn,{ref:l,tabs:[...n.panes]},null),k])])])}}}),wn=_e({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:Le(Function),default:()=>!0},stretch:Boolean}),De=n=>Da(n)||Ne(n),yn={[kt]:n=>De(n),tabClick:(n,r)=>r instanceof Event,tabChange:n=>De(n),edit:(n,r)=>["remove","add"].includes(r),tabRemove:n=>De(n),tabAdd:()=>!0};var Cn=x({name:"ElTabs",props:wn,emits:yn,setup(n,{emit:r,slots:c,expose:u}){var v,i;const a=pe("tabs"),{children:e,addChild:t,removeChild:o}=Za(Oe(),"ElTabPane"),s=R(),l=R((i=(v=n.modelValue)!=null?v:n.activeName)!=null?i:"0"),d=_=>{l.value=_,r(kt,_),r("tabChange",_)},f=async _=>{var b,E,S;if(!(l.value===_||at(_)))try{await((b=n.beforeLeave)==null?void 0:b.call(n,_,l.value))!==!1&&(d(_),(S=(E=s.value)==null?void 0:E.removeFocus)==null||S.call(E))}catch{}},p=(_,b,E)=>{_.props.disabled||(f(b),r("tabClick",_,E))},g=(_,b)=>{_.props.disabled||at(_.props.name)||(b.stopPropagation(),r("edit",_.props.name,"remove"),r("tabRemove",_.props.name))},w=()=>{r("edit",void 0,"add"),r("tabAdd")};return Ya({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},P(()=>!!n.activeName)),X(()=>n.activeName,_=>f(_)),X(()=>n.modelValue,_=>f(_)),X(l,async()=>{var _;await ke(),(_=s.value)==null||_.scrollToActiveTab()}),Ua(xe,{props:n,currentName:l,registerPane:t,unregisterPane:o}),u({currentName:l}),()=>{const _=n.editable||n.addable?h("span",{class:a.e("new-tab"),tabindex:"0",onClick:w,onKeydown:S=>{S.code===ae.enter&&w()}},[h(Z,{class:a.is("icon-plus")},{default:()=>[h(na,null,null)]})]):null,b=h("div",{class:[a.e("header"),a.is(n.tabPosition)]},[_,h(bn,{ref:s,currentName:l.value,editable:n.editable,type:n.type,panes:e.value,stretch:n.stretch,onTabClick:p,onTabRemove:g},null)]),E=h("div",{class:a.e("content")},[ye(c,"default")]);return h("div",{class:[a.b(),a.m(n.tabPosition),{[a.m("card")]:n.type==="card",[a.m("border-card")]:n.type==="border-card"}]},[...n.tabPosition!=="bottom"?[b,E]:[E,b]])}}});const En=_e({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Sn=["id","aria-hidden","aria-labelledby"],Ut="ElTabPane",In=x({name:Ut}),Mn=x({...In,props:En,setup(n){const r=n,c=Oe(),u=At(),v=Ge(xe);v||We(Ut,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const i=pe("tab-pane"),a=R(),e=P(()=>r.closable||v.props.closable),t=nt(()=>{var f;return v.currentName.value===((f=r.name)!=null?f:a.value)}),o=R(t.value),s=P(()=>{var f;return(f=r.name)!=null?f:a.value}),l=nt(()=>!r.lazy||o.value||t.value);X(t,f=>{f&&(o.value=!0)});const d=Ke({uid:c.uid,slots:u,props:r,paneName:s,active:t,index:a,isClosable:e});return he(()=>{v.registerPane(d)}),Xe(()=>{v.unregisterPane(d.uid)}),(f,p)=>m(l)?ne((y(),L("div",{key:0,id:`pane-${m(s)}`,class:D(m(i).b()),role:"tabpanel","aria-hidden":!m(t),"aria-labelledby":`tab-${m(s)}`},[ye(f.$slots,"default")],10,Sn)),[[ve,m(t)]]):F("v-if",!0)}});var Dt=Re(Mn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Nn=qe(Cn,{TabPane:Dt}),An=sa(Dt),Tn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Pn=C("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896a448 448 0 0 1 0-896zm-55.808 536.384l-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336L456.192 600.384z"},null,-1),$n=[Pn];function Rn(n,r){return y(),L("svg",Tn,$n)}const Ln={name:"ep-success-filled",render:Rn},kn="/assets/logo-e81cd252.jpeg";/*!
 * qrcode.vue v3.4.1
 * A Vue.js component to generate QRCode.
 * © 2017-2023 @scopewu(https://github.com/scopewu)
 * MIT License.
 */var Pe=function(){return Pe=Object.assign||function(r){for(var c,u=1,v=arguments.length;u<v;u++){c=arguments[u];for(var i in c)Object.prototype.hasOwnProperty.call(c,i)&&(r[i]=c[i])}return r},Pe.apply(this,arguments)};var ue;(function(n){var r=function(){function a(e,t,o,s){if(this.version=e,this.errorCorrectionLevel=t,this.modules=[],this.isFunction=[],e<a.MIN_VERSION||e>a.MAX_VERSION)throw new RangeError("Version value out of range");if(s<-1||s>7)throw new RangeError("Mask value out of range");this.size=e*4+17;for(var l=[],d=0;d<this.size;d++)l.push(!1);for(var d=0;d<this.size;d++)this.modules.push(l.slice()),this.isFunction.push(l.slice());this.drawFunctionPatterns();var f=this.addEccAndInterleave(o);if(this.drawCodewords(f),s==-1)for(var p=1e9,d=0;d<8;d++){this.applyMask(d),this.drawFormatBits(d);var g=this.getPenaltyScore();g<p&&(s=d,p=g),this.applyMask(d)}v(0<=s&&s<=7),this.mask=s,this.applyMask(s),this.drawFormatBits(s),this.isFunction=[]}return a.encodeText=function(e,t){var o=n.QrSegment.makeSegments(e);return a.encodeSegments(o,t)},a.encodeBinary=function(e,t){var o=n.QrSegment.makeBytes(e);return a.encodeSegments([o],t)},a.encodeSegments=function(e,t,o,s,l,d){if(o===void 0&&(o=1),s===void 0&&(s=40),l===void 0&&(l=-1),d===void 0&&(d=!0),!(a.MIN_VERSION<=o&&o<=s&&s<=a.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");var f,p;for(f=o;;f++){var g=a.getNumDataCodewords(f,t)*8,w=i.getTotalBits(e,f);if(w<=g){p=w;break}if(f>=s)throw new RangeError("Data too long")}for(var _=0,b=[a.Ecc.MEDIUM,a.Ecc.QUARTILE,a.Ecc.HIGH];_<b.length;_++){var E=b[_];d&&p<=a.getNumDataCodewords(f,E)*8&&(t=E)}for(var S=[],O=0,V=e;O<V.length;O++){var Q=V[O];c(Q.mode.modeBits,4,S),c(Q.numChars,Q.mode.numCharCountBits(f),S);for(var W=0,A=Q.getData();W<A.length;W++){var k=A[W];S.push(k)}}v(S.length==p);var M=a.getNumDataCodewords(f,t)*8;v(S.length<=M),c(0,Math.min(4,M-S.length),S),c(0,(8-S.length%8)%8,S),v(S.length%8==0);for(var q=236;S.length<M;q^=253)c(q,8,S);for(var z=[];z.length*8<S.length;)z.push(0);return S.forEach(function(B,T){return z[T>>>3]|=B<<7-(T&7)}),new a(f,t,z,l)},a.prototype.getModule=function(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]},a.prototype.getModules=function(){return this.modules},a.prototype.drawFunctionPatterns=function(){for(var e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);for(var t=this.getAlignmentPatternPositions(),o=t.length,e=0;e<o;e++)for(var s=0;s<o;s++)e==0&&s==0||e==0&&s==o-1||e==o-1&&s==0||this.drawAlignmentPattern(t[e],t[s]);this.drawFormatBits(0),this.drawVersion()},a.prototype.drawFormatBits=function(e){for(var t=this.errorCorrectionLevel.formatBits<<3|e,o=t,s=0;s<10;s++)o=o<<1^(o>>>9)*1335;var l=(t<<10|o)^21522;v(l>>>15==0);for(var s=0;s<=5;s++)this.setFunctionModule(8,s,u(l,s));this.setFunctionModule(8,7,u(l,6)),this.setFunctionModule(8,8,u(l,7)),this.setFunctionModule(7,8,u(l,8));for(var s=9;s<15;s++)this.setFunctionModule(14-s,8,u(l,s));for(var s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,u(l,s));for(var s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,u(l,s));this.setFunctionModule(8,this.size-8,!0)},a.prototype.drawVersion=function(){if(!(this.version<7)){for(var e=this.version,t=0;t<12;t++)e=e<<1^(e>>>11)*7973;var o=this.version<<12|e;v(o>>>18==0);for(var t=0;t<18;t++){var s=u(o,t),l=this.size-11+t%3,d=Math.floor(t/3);this.setFunctionModule(l,d,s),this.setFunctionModule(d,l,s)}}},a.prototype.drawFinderPattern=function(e,t){for(var o=-4;o<=4;o++)for(var s=-4;s<=4;s++){var l=Math.max(Math.abs(s),Math.abs(o)),d=e+s,f=t+o;0<=d&&d<this.size&&0<=f&&f<this.size&&this.setFunctionModule(d,f,l!=2&&l!=4)}},a.prototype.drawAlignmentPattern=function(e,t){for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.setFunctionModule(e+s,t+o,Math.max(Math.abs(s),Math.abs(o))!=1)},a.prototype.setFunctionModule=function(e,t,o){this.modules[t][e]=o,this.isFunction[t][e]=!0},a.prototype.addEccAndInterleave=function(e){var t=this.version,o=this.errorCorrectionLevel;if(e.length!=a.getNumDataCodewords(t,o))throw new RangeError("Invalid argument");for(var s=a.NUM_ERROR_CORRECTION_BLOCKS[o.ordinal][t],l=a.ECC_CODEWORDS_PER_BLOCK[o.ordinal][t],d=Math.floor(a.getNumRawDataModules(t)/8),f=s-d%s,p=Math.floor(d/s),g=[],w=a.reedSolomonComputeDivisor(l),_=0,b=0;_<s;_++){var E=e.slice(b,b+p-l+(_<f?0:1));b+=E.length;var S=a.reedSolomonComputeRemainder(E,w);_<f&&E.push(0),g.push(E.concat(S))}for(var O=[],V=function(Q){g.forEach(function(W,A){(Q!=p-l||A>=f)&&O.push(W[Q])})},_=0;_<g[0].length;_++)V(_);return v(O.length==d),O},a.prototype.drawCodewords=function(e){if(e.length!=Math.floor(a.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");for(var t=0,o=this.size-1;o>=1;o-=2){o==6&&(o=5);for(var s=0;s<this.size;s++)for(var l=0;l<2;l++){var d=o-l,f=(o+1&2)==0,p=f?this.size-1-s:s;!this.isFunction[p][d]&&t<e.length*8&&(this.modules[p][d]=u(e[t>>>3],7-(t&7)),t++)}}v(t==e.length*8)},a.prototype.applyMask=function(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(var t=0;t<this.size;t++)for(var o=0;o<this.size;o++){var s=void 0;switch(e){case 0:s=(o+t)%2==0;break;case 1:s=t%2==0;break;case 2:s=o%3==0;break;case 3:s=(o+t)%3==0;break;case 4:s=(Math.floor(o/3)+Math.floor(t/2))%2==0;break;case 5:s=o*t%2+o*t%3==0;break;case 6:s=(o*t%2+o*t%3)%2==0;break;case 7:s=((o+t)%2+o*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][o]&&s&&(this.modules[t][o]=!this.modules[t][o])}},a.prototype.getPenaltyScore=function(){for(var e=0,t=0;t<this.size;t++){for(var o=!1,s=0,l=[0,0,0,0,0,0,0],d=0;d<this.size;d++)this.modules[t][d]==o?(s++,s==5?e+=a.PENALTY_N1:s>5&&e++):(this.finderPenaltyAddHistory(s,l),o||(e+=this.finderPenaltyCountPatterns(l)*a.PENALTY_N3),o=this.modules[t][d],s=1);e+=this.finderPenaltyTerminateAndCount(o,s,l)*a.PENALTY_N3}for(var d=0;d<this.size;d++){for(var o=!1,f=0,l=[0,0,0,0,0,0,0],t=0;t<this.size;t++)this.modules[t][d]==o?(f++,f==5?e+=a.PENALTY_N1:f>5&&e++):(this.finderPenaltyAddHistory(f,l),o||(e+=this.finderPenaltyCountPatterns(l)*a.PENALTY_N3),o=this.modules[t][d],f=1);e+=this.finderPenaltyTerminateAndCount(o,f,l)*a.PENALTY_N3}for(var t=0;t<this.size-1;t++)for(var d=0;d<this.size-1;d++){var p=this.modules[t][d];p==this.modules[t][d+1]&&p==this.modules[t+1][d]&&p==this.modules[t+1][d+1]&&(e+=a.PENALTY_N2)}for(var g=0,w=0,_=this.modules;w<_.length;w++){var b=_[w];g=b.reduce(function(O,V){return O+(V?1:0)},g)}var E=this.size*this.size,S=Math.ceil(Math.abs(g*20-E*10)/E)-1;return v(0<=S&&S<=9),e+=S*a.PENALTY_N4,v(0<=e&&e<=2568888),e},a.prototype.getAlignmentPatternPositions=function(){if(this.version==1)return[];for(var e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,o=[6],s=this.size-7;o.length<e;s-=t)o.splice(1,0,s);return o},a.getNumRawDataModules=function(e){if(e<a.MIN_VERSION||e>a.MAX_VERSION)throw new RangeError("Version number out of range");var t=(16*e+128)*e+64;if(e>=2){var o=Math.floor(e/7)+2;t-=(25*o-10)*o-55,e>=7&&(t-=36)}return v(208<=t&&t<=29648),t},a.getNumDataCodewords=function(e,t){return Math.floor(a.getNumRawDataModules(e)/8)-a.ECC_CODEWORDS_PER_BLOCK[t.ordinal][e]*a.NUM_ERROR_CORRECTION_BLOCKS[t.ordinal][e]},a.reedSolomonComputeDivisor=function(e){if(e<1||e>255)throw new RangeError("Degree out of range");for(var t=[],o=0;o<e-1;o++)t.push(0);t.push(1);for(var s=1,o=0;o<e;o++){for(var l=0;l<t.length;l++)t[l]=a.reedSolomonMultiply(t[l],s),l+1<t.length&&(t[l]^=t[l+1]);s=a.reedSolomonMultiply(s,2)}return t},a.reedSolomonComputeRemainder=function(e,t){for(var o=t.map(function(p){return 0}),s=function(p){var g=p^o.shift();o.push(0),t.forEach(function(w,_){return o[_]^=a.reedSolomonMultiply(w,g)})},l=0,d=e;l<d.length;l++){var f=d[l];s(f)}return o},a.reedSolomonMultiply=function(e,t){if(e>>>8||t>>>8)throw new RangeError("Byte out of range");for(var o=0,s=7;s>=0;s--)o=o<<1^(o>>>7)*285,o^=(t>>>s&1)*e;return v(o>>>8==0),o},a.prototype.finderPenaltyCountPatterns=function(e){var t=e[1];v(t<=this.size*3);var o=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(o&&e[0]>=t*4&&e[6]>=t?1:0)+(o&&e[6]>=t*4&&e[0]>=t?1:0)},a.prototype.finderPenaltyTerminateAndCount=function(e,t,o){return e&&(this.finderPenaltyAddHistory(t,o),t=0),t+=this.size,this.finderPenaltyAddHistory(t,o),this.finderPenaltyCountPatterns(o)},a.prototype.finderPenaltyAddHistory=function(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)},a.MIN_VERSION=1,a.MAX_VERSION=40,a.PENALTY_N1=3,a.PENALTY_N2=3,a.PENALTY_N3=40,a.PENALTY_N4=10,a.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],a.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],a}();n.QrCode=r;function c(a,e,t){if(e<0||e>31||a>>>e)throw new RangeError("Value out of range");for(var o=e-1;o>=0;o--)t.push(a>>>o&1)}function u(a,e){return(a>>>e&1)!=0}function v(a){if(!a)throw new Error("Assertion error")}var i=function(){function a(e,t,o){if(this.mode=e,this.numChars=t,this.bitData=o,t<0)throw new RangeError("Invalid argument");this.bitData=o.slice()}return a.makeBytes=function(e){for(var t=[],o=0,s=e;o<s.length;o++){var l=s[o];c(l,8,t)}return new a(a.Mode.BYTE,e.length,t)},a.makeNumeric=function(e){if(!a.isNumeric(e))throw new RangeError("String contains non-numeric characters");for(var t=[],o=0;o<e.length;){var s=Math.min(e.length-o,3);c(parseInt(e.substring(o,o+s),10),s*3+1,t),o+=s}return new a(a.Mode.NUMERIC,e.length,t)},a.makeAlphanumeric=function(e){if(!a.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");var t=[],o;for(o=0;o+2<=e.length;o+=2){var s=a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o))*45;s+=a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o+1)),c(s,11,t)}return o<e.length&&c(a.ALPHANUMERIC_CHARSET.indexOf(e.charAt(o)),6,t),new a(a.Mode.ALPHANUMERIC,e.length,t)},a.makeSegments=function(e){return e==""?[]:a.isNumeric(e)?[a.makeNumeric(e)]:a.isAlphanumeric(e)?[a.makeAlphanumeric(e)]:[a.makeBytes(a.toUtf8ByteArray(e))]},a.makeEci=function(e){var t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)c(e,8,t);else if(e<16384)c(2,2,t),c(e,14,t);else if(e<1e6)c(6,3,t),c(e,21,t);else throw new RangeError("ECI assignment value out of range");return new a(a.Mode.ECI,0,t)},a.isNumeric=function(e){return a.NUMERIC_REGEX.test(e)},a.isAlphanumeric=function(e){return a.ALPHANUMERIC_REGEX.test(e)},a.prototype.getData=function(){return this.bitData.slice()},a.getTotalBits=function(e,t){for(var o=0,s=0,l=e;s<l.length;s++){var d=l[s],f=d.mode.numCharCountBits(t);if(d.numChars>=1<<f)return 1/0;o+=4+f+d.bitData.length}return o},a.toUtf8ByteArray=function(e){e=encodeURI(e);for(var t=[],o=0;o<e.length;o++)e.charAt(o)!="%"?t.push(e.charCodeAt(o)):(t.push(parseInt(e.substring(o+1,o+3),16)),o+=2);return t},a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",a}();n.QrSegment=i})(ue||(ue={}));(function(n){(function(r){var c=function(){function u(v,i){this.ordinal=v,this.formatBits=i}return u.LOW=new u(0,1),u.MEDIUM=new u(1,0),u.QUARTILE=new u(2,3),u.HIGH=new u(3,2),u}();r.Ecc=c})(n.QrCode||(n.QrCode={}))})(ue||(ue={}));(function(n){(function(r){var c=function(){function u(v,i){this.modeBits=v,this.numBitsCharCount=i}return u.prototype.numCharCountBits=function(v){return this.numBitsCharCount[Math.floor((v+7)/17)]},u.NUMERIC=new u(1,[10,12,14]),u.ALPHANUMERIC=new u(2,[9,11,13]),u.BYTE=new u(4,[8,16,16]),u.KANJI=new u(8,[8,10,12]),u.ECI=new u(7,[0,0,0]),u}();r.Mode=c})(n.QrSegment||(n.QrSegment={}))})(ue||(ue={}));var fe=ue,Ft="H",je={L:fe.QrCode.Ecc.LOW,M:fe.QrCode.Ecc.MEDIUM,Q:fe.QrCode.Ecc.QUARTILE,H:fe.QrCode.Ecc.HIGH},zn=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}();function Vt(n){return n in je}function qt(n,r){r===void 0&&(r=0);var c=[];return n.forEach(function(u,v){var i=null;u.forEach(function(a,e){if(!a&&i!==null){c.push("M".concat(i+r," ").concat(v+r,"h").concat(e-i,"v1H").concat(i+r,"z")),i=null;return}if(e===u.length-1){if(!a)return;i===null?c.push("M".concat(e+r,",").concat(v+r," h1v1H").concat(e+r,"z")):c.push("M".concat(i+r,",").concat(v+r," h").concat(e+1-i,"v1H").concat(i+r,"z"));return}a&&i===null&&(i=e)})}),c.join("")}var et={value:{type:String,required:!0,default:""},size:{type:Number,default:100},level:{type:String,default:Ft,validator:function(n){return Vt(n)}},background:{type:String,default:"#fff"},foreground:{type:String,default:"#000"},margin:{type:Number,required:!1,default:0}},On=Pe(Pe({},et),{renderAs:{type:String,required:!1,default:"canvas",validator:function(n){return["canvas","svg"].indexOf(n)>-1}}}),xn=x({name:"QRCodeSvg",props:et,setup:function(n){var r=R(0),c=R(""),u=function(){var v=n.value,i=n.level,a=n.margin,e=fe.QrCode.encodeText(v,je[i]).getModules();r.value=e.length+a*2,c.value=qt(e,a)};return u(),Ye(u),function(){return me("svg",{width:n.size,height:n.size,"shape-rendering":"crispEdges",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(r.value," ").concat(r.value)},[me("path",{fill:n.background,d:"M0,0 h".concat(r.value,"v").concat(r.value,"H0z")}),me("path",{fill:n.foreground,d:c.value})])}}}),Bn=x({name:"QRCodeCanvas",props:et,setup:function(n){var r=R(null),c=function(){var u=n.value,v=n.level,i=n.size,a=n.margin,e=n.background,t=n.foreground,o=r.value;if(o){var s=o.getContext("2d");if(s){var l=fe.QrCode.encodeText(u,je[v]).getModules(),d=l.length+a*2,f=window.devicePixelRatio||1,p=i/d*f;o.height=o.width=i*f,s.scale(p,p),s.fillStyle=e,s.fillRect(0,0,d,d),s.fillStyle=t,zn?s.fill(new Path2D(qt(l,a))):l.forEach(function(g,w){g.forEach(function(_,b){_&&s.fillRect(b+a,w+a,1,1)})})}}};return he(c),Ye(c),function(){return me("canvas",{ref:r,style:{width:"".concat(n.size,"px"),height:"".concat(n.size,"px")}})}}}),Un=x({name:"Qrcode",render:function(){var n=this.$props,r=n.renderAs,c=n.value,u=n.size,v=n.margin,i=n.level,a=n.background,e=n.foreground,t=u>>>0,o=v>>>0,s=Vt(i)?i:Ft;return me(r==="svg"?xn:Bn,{value:c,size:t,margin:o,level:s,background:a,foreground:e})},props:On});const tt=n=>(Rt("data-v-a7e03363"),n=n(),Lt(),n),Dn={class:"login-box"},Fn=tt(()=>C("img",{class:"login-logo",src:kn,alt:"MallChat"},null,-1)),Vn=tt(()=>C("p",{class:"login-slogan"},"边聊边买，岂不快哉~",-1)),qn={class:"login-qrcode-wrapper"},Qn={key:0,class:"login-desc"},Hn={key:1,class:"login-desc"},Gn=tt(()=>C("strong",{class:"login-desc-bold"},"微信",-1)),Yn=x({__name:"index",setup(n){const r=oa(),c=P({get(){return r.showLogin},set(i){r.showLogin=i}}),u=P(()=>r.loginQrCode),v=P(()=>r.loginStatus);return $t(()=>{c.value&&!u.value&&r.getLoginQrCode()}),(i,a)=>{const e=Ln,t=Z,o=Ee,s=Aa;return y(),G(o,{class:"login-box-modal",width:376,modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=l=>c.value=l),center:""},{default:N(()=>[C("div",Dn,[Fn,Vn,ne((y(),L("div",qn,[u.value?(y(),G(Un,{key:0,class:"login-qrcode",value:u.value,size:328,margin:5},null,8,["value"])):F("",!0)])),[[s,!u.value]]),v.value===m(st).Waiting?(y(),L("p",Qn,[h(t,{size:32,class:"login-desc-icon",color:"var(--color-wechat)"},{default:N(()=>[h(e)]),_:1}),te(" 扫码成功~，点击“登录”继续登录 ")])):F("",!0),v.value===m(st).Init?(y(),L("p",Hn,[te(" 使用「"),Gn,te("」扫描二维码登录~~ ")])):F("",!0)])]),_:1},8,["modelValue"])}}});const Kn=se(Yn,[["__scopeId","data-v-a7e03363"]]),Xn={id:"xgplayer"},Wn=x({__name:"index",props:{url:{}},setup(n){const r=n,c=R(),u=()=>{r.url&&(c.value&&c.value.destroy(),c.value=new Qa({id:"xgplayer",url:r.url,width:"50%",fitVideoSize:"fixWidth",videoInit:!0,miniplayer:!0,miniplayerConfig:{bottom:10,right:10,width:320,height:180},pip:!0,cssFullscreen:!0,screenShot:{saveImg:!0},ignores:["replay","fullscreen"],lang:"zh-cn"}))};return he(()=>{u()}),Xe(()=>{c.value&&c.value.destroy()}),(v,i)=>(y(),L("div",Xn))}});const Zn={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},Jn=C("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64zm67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344zM590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296c-44.096 0-108.992 44.736-148.48 101.504c0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04c67.84 0 107.904-43.648 147.456-100.416z"},null,-1),jn=[Jn];function es(n,r){return y(),L("svg",Zn,jn)}const ts={name:"ep-info-filled",render:es};const as={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},ns=C("path",{fill:"currentColor",d:"M399.5 849.5a225 225 0 1 0 0-450a225 225 0 0 0 0 450zm0 56.25a281.25 281.25 0 1 1 0-562.5a281.25 281.25 0 0 1 0 562.5zm253.125-787.5h225q28.125 0 28.125 28.125T877.625 174.5h-225q-28.125 0-28.125-28.125t28.125-28.125z"},null,-1),ss=C("path",{fill:"currentColor",d:"M877.625 118.25q28.125 0 28.125 28.125v225q0 28.125-28.125 28.125T849.5 371.375v-225q0-28.125 28.125-28.125z"},null,-1),os=C("path",{fill:"currentColor",d:"M604.813 458.9L565.1 419.131l292.613-292.668l39.825 39.824z"},null,-1),rs=[ns,ss,os];function ls(n,r){return y(),L("svg",as,rs)}const is={name:"ep-male",render:ls},cs={viewBox:"0 0 1024 1024",width:"1.2em",height:"1.2em"},us=C("path",{fill:"currentColor",d:"M512 640a256 256 0 1 0 0-512a256 256 0 0 0 0 512zm0 64a320 320 0 1 1 0-640a320 320 0 0 1 0 640z"},null,-1),ds=C("path",{fill:"currentColor",d:"M512 640q32 0 32 32v256q0 32-32 32t-32-32V672q0-32 32-32z"},null,-1),fs=C("path",{fill:"currentColor",d:"M352 800h320q32 0 32 32t-32 32H352q-32 0-32-32t32-32z"},null,-1),vs=[us,ds,fs];function ms(n,r){return y(),L("svg",cs,vs)}const _s={name:"ep-female",render:ms},ps={class:"setting-box"},hs={class:"setting-avatar-box"},gs={class:"setting-name"},bs={class:"name-edit-wrapper"},ws={class:"user-name"},ys=["src"],Cs={class:"name-edit-wrapper"},Es={class:"badge-list"},Ss=["src"],Is={class:"badge-item-mask"},Ms=x({__name:"index",props:["modelValue"],emits:["update:modelValue"],setup(n,{emit:r}){const c=n,u=Se(),v=P({get(){return c.modelValue},set(_){r("update:modelValue",_)}}),i=Ke({isEdit:!1,tempName:"",saving:!1}),a=He(),e=ra(),t=P(()=>a.userInfo),{send:o,data:s}=we(ie.getBadgeList,{initialData:[],immediate:!1});$t(()=>{v.value&&(o(),a.getUserDetailAction())});const l=P(()=>s.value.find(_=>_.obtain===ge.YES&&_.wearing===ge.YES)),d=(_,b)=>{const E=a.userInfo.uid&&e.userCachedList[a.userInfo.uid];E&&(E[_]=b)},f=async _=>{_!=null&&_.id&&(await ie.setUserBadge(_.id).send(),o(),_.img&&(t.value.badge=_.img),d("wearingItemId",_.id))},p=()=>{var _;!((_=t.value)!=null&&_.modifyNameChance)||t.value.modifyNameChance===0||(i.isEdit=!0,i.tempName=t.value.name||"")},g=async()=>{var _,b;if(!i.tempName||i.tempName.trim()===""){Ae.warning("用户名不能为空哦~");return}if(i.tempName===t.value.name){Ae.warning("用户名和当前一样的哦~");return}i.saving=!0,await ie.modifyUserName(i.tempName).send(),a.userInfo.name=i.tempName,d("name",i.tempName),w(),!(!((_=t.value)!=null&&_.modifyNameChance)||t.value.modifyNameChance===0)&&(t.value.modifyNameChance=((b=t.value)==null?void 0:b.modifyNameChance)-1)},w=async()=>{i.saving=!1,i.isEdit=!1,i.tempName=""};return(_,b)=>{const E=Ta,S=_s,O=is,V=Z,Q=Mt,W=Ze,A=zt,k=sn,M=ts,q=Ee;return y(),G(q,{class:"setting-box-modal",modelValue:v.value,"onUpdate:modelValue":b[1]||(b[1]=z=>v.value=z),width:m(u)==="PC"?580:"85%","close-on-click-modal":!1,center:""},{default:N(()=>{var z,B;return[C("div",ps,[C("div",hs,[h(E,{size:"large",class:"setting-avatar",src:((z=t.value)==null?void 0:z.avatar)||"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},null,8,["src"]),t.value.sex&&[m(be).MAN,m(be).REMALE].includes(t.value.sex)?(y(),G(V,{key:0,size:"20",color:"var(--font-main)",class:"setting-avatar-sex",style:Te({backgroundColor:`var(${t.value.sex===m(be).MAN?"--avatar-sex-bg-man":"--avatar-sex-bg-female"})`})},{default:N(()=>[t.value.sex===m(be).MAN?(y(),G(S,{key:0})):F("",!0),t.value.sex===m(be).REMALE?(y(),G(O,{key:1})):F("",!0)]),_:1},8,["style"])):F("",!0)]),C("div",gs,[ne(C("div",bs,[C("span",ws,[h(Q,{effect:"dark",content:(B=l.value)==null?void 0:B.describe,placement:"top"},{default:N(()=>{var T;return[ne(C("img",{class:"setting-badge",src:(T=l.value)==null?void 0:T.img},null,8,ys),[[ve,l.value]])]}),_:1},8,["content"]),te(" "+re(t.value.name||"-"),1)]),h(Q,{class:"box-item",effect:"dark",content:`剩余改名次数: ${t.value.modifyNameChance||0}`,placement:"right"},{default:N(()=>{var T;return[h(W,{class:D(["name-edit-icon",(T=t.value)!=null&&T.modifyNameChance&&t.value.modifyNameChance>0?"pointer":"not-allow is-disabled"]),size:"small",icon:m(la),circle:"",onClick:p},null,8,["class","icon"])]}),_:1},8,["content"])],512),[[ve,i.isEdit===!1]]),ne(C("div",Cs,[h(A,{type:"text",modelValue:i.tempName,"onUpdate:modelValue":b[0]||(b[0]=T=>i.tempName=T),maxlength:"6"},null,8,["modelValue"]),h(W,{class:"name-edit-icon",size:"small",type:"primary",icon:m(ia),circle:"",onClick:g},null,8,["icon"]),h(W,{class:"name-edit-icon",size:"small",type:"danger",icon:m(ca),circle:"",onClick:w},null,8,["icon"])],512),[[ve,i.isEdit]])]),h(k,{class:"setting-tips",title:"Tips: MallChat名称不允许重复，快来抢占",type:"warning",closable:!1}),C("ul",Es,[(y(!0),L(ce,null,ze(m(s),T=>(y(),L("li",{class:"badge-item",key:T.id},[C("img",{class:D(["badge-item-icon",{"badge-item-icon-has":T.obtain===m(ge).YES}]),src:T.img,alt:"badge"},null,10,Ss),C("div",Is,[T.obtain===m(ge).YES?(y(),L(ce,{key:0},[T.wearing===m(ge).NO?(y(),G(W,{key:0,size:"small",onClick:K=>f(T)},{default:N(()=>[te(" 佩戴 ")]),_:2},1032,["onClick"])):F("",!0)],64)):F("",!0),h(Q,{effect:"dark",content:T.describe,placement:"top"},{default:N(()=>[h(V,{class:"badge-item-info",color:"var(--font-main)"},{default:N(()=>[h(M)]),_:1})]),_:2},1032,["content"])])]))),128))])])]}),_:1},8,["modelValue","width"])}}});const Ns=se(Ms,[["__scopeId","data-v-90598a24"]]),As="/assets/qrcode-38047f9e.jpeg",Ts={class:"side-toolbar"},Ps={class:"tool-icons"},$s={class:"menu"},Rs=["src"],Ls=["title","onClick"],ks={key:0,class:"menu-item-name"},zs=x({__name:"index",setup(n){const r=Se(),c=R(!1),u=He(),v=It(),i=Ce(),a=P(()=>u==null?void 0:u.userInfo.avatar),e=P(()=>i.unReadMark),t=()=>c.value=!0,o=()=>v.showGroupList=!v.showGroupList,s=P(()=>r==="PC"),l=[{name:"",desc:"哔哩哔哩",icon:"bilibili",handler:()=>{window.open("https://space.bilibili.com/146719540","_blank")}},{name:"项目文档",desc:"语雀",icon:"yuque",handler:()=>{window.open("https://www.yuque.com/snab/planet/cef1mcko4fve0ur3","_blank")}},{name:"618超优惠",desc:"腾讯云",icon:"qcloud",handler:()=>{window.open("https://curl.qcloud.com/qSaH0JLT","_blank")}},{name:"后端源码",desc:"MallChatWeb Server",icon:"github",handler:()=>{window.open("https://github.com/zongzibinbin/MallChat","_blank")}},{name:"前端源码",desc:"MallChatWeb Web",icon:"github",handler:()=>{window.open("https://github.com/Evansy/MallChatWeb","_blank")}}];return(d,f)=>{const p=Je,g=Ot,w=ua,_=Fa("router-link"),b=Mt,E=Ns,S=rt("login"),O=rt("login-show");return y(),L("aside",Ts,[ne(h(p,{src:m(u).isSign?a.value:"",size:s.value?50:40},null,8,["src","size"]),[[S,t]]),C("div",Ps,[h(_,{exactActiveClass:"tool-icon-active",to:"/"},{default:N(()=>[h(w,{value:e.value.newMsgUnreadCount,hidden:e.value.newMsgUnreadCount===0,max:99},{default:N(()=>[h(g,{class:"tool-icon",icon:"chat",size:28})]),_:1},8,["value","hidden"])]),_:1}),ne((y(),G(_,{exactActiveClass:"tool-icon-active",to:"/contact"},{default:N(()=>[h(w,{value:e.value.newFriendUnreadCount,hidden:e.value.newFriendUnreadCount===0,max:99},{default:N(()=>[h(g,{class:"tool-icon",icon:"group",size:28})]),_:1},8,["value","hidden"])]),_:1})),[[O]])]),C("div",$s,[h(b,{effect:"dark",placement:s.value?"right":"bottom"},{content:N(()=>[C("img",{class:"icon-wechat-qrcode",src:m(As),alt:"wx qrcode"},null,8,Rs)]),default:N(()=>[h(g,{icon:"weixin",size:28,colorful:""})]),_:1},8,["placement"]),(y(),L(ce,null,ze(l,(V,Q)=>C("a",{class:"menu-item",key:Q,title:V.desc,onClick:V.handler},[h(g,{icon:V.icon,size:28,colorful:""},null,8,["icon"]),V.name?(y(),L("span",ks,re(V.name),1)):F("",!0)],8,Ls)),64))]),h(g,{icon:"zhankai",size:28,onClick:o}),h(E,{modelValue:c.value,"onUpdate:modelValue":f[0]||(f[0]=V=>c.value=V)},null,8,["modelValue"])])}}});const Os=se(zs,[["__scopeId","data-v-b14ff9e0"]]),xs={class:"dialog-footer"},Bs=x({__name:"index",setup(n){const r=Se(),c=Ce(),u=R(),{send:v,loading:i}=we(ie.sendAddFriendRequest,{immediate:!1}),a=P(()=>c.addFriendModalInfo.show),e=()=>{c.addFriendModalInfo.show=!1,c.addFriendModalInfo.uid=void 0},t=async()=>{await v({msg:u.value,targetUid:c.addFriendModalInfo.uid}),Ae.success("TA一定会被你的诚意打动的~"),e()};return(o,s)=>{const l=zt,d=Ze,f=Ee;return y(),G(f,{class:"setting-box-modal","model-value":a.value,width:m(r)==="PC"?350:"50%","close-on-click-modal":!1,center:"","show-close":!1,onClose:e},{footer:N(()=>[C("span",xs,[h(d,{onClick:e},{default:N(()=>[te("取消")]),_:1}),h(d,{type:"primary",onClick:t,loading:m(i)},{default:N(()=>[te("发送")]),_:1},8,["loading"])])]),default:N(()=>[h(l,{autosize:{minRows:4,maxRows:4},maxlength:50,type:"textarea",resize:"none",modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=p=>u.value=p),placeholder:"发条有趣的问候语吧~"},null,8,["modelValue"])]),_:1},8,["model-value","width"])}}});const Us=se(Bs,[["__scopeId","data-v-0279f5ca"]]);var Ds="__lodash_hash_undefined__";function Fs(n){return this.__data__.set(n,Ds),this}var Vs=Fs;function qs(n){return this.__data__.has(n)}var Qs=qs,Hs=da,Gs=Vs,Ys=Qs;function $e(n){var r=-1,c=n==null?0:n.length;for(this.__data__=new Hs;++r<c;)this.add(n[r])}$e.prototype.add=$e.prototype.push=Gs;$e.prototype.has=Ys;var Ks=$e;function Xs(n,r){for(var c=-1,u=n==null?0:n.length;++c<u;)if(r(n[c],c,n))return!0;return!1}var Ws=Xs;function Zs(n,r){return n.has(r)}var Js=Zs,js=Ks,eo=Ws,to=Js,ao=1,no=2;function so(n,r,c,u,v,i){var a=c&ao,e=n.length,t=r.length;if(e!=t&&!(a&&t>e))return!1;var o=i.get(n),s=i.get(r);if(o&&s)return o==r&&s==n;var l=-1,d=!0,f=c&no?new js:void 0;for(i.set(n,r),i.set(r,n);++l<e;){var p=n[l],g=r[l];if(u)var w=a?u(g,p,l,r,n,i):u(p,g,l,n,r,i);if(w!==void 0){if(w)continue;d=!1;break}if(f){if(!eo(r,function(_,b){if(!to(f,b)&&(p===_||v(p,_,c,u,i)))return f.push(b)})){d=!1;break}}else if(!(p===g||v(p,g,c,u,i))){d=!1;break}}return i.delete(n),i.delete(r),d}var Qt=so;function oo(n){var r=-1,c=Array(n.size);return n.forEach(function(u,v){c[++r]=[v,u]}),c}var ro=oo;function lo(n){var r=-1,c=Array(n.size);return n.forEach(function(u){c[++r]=u}),c}var io=lo,it=fa,ct=va,co=ma,uo=Qt,fo=ro,vo=io,mo=1,_o=2,po="[object Boolean]",ho="[object Date]",go="[object Error]",bo="[object Map]",wo="[object Number]",yo="[object RegExp]",Co="[object Set]",Eo="[object String]",So="[object Symbol]",Io="[object ArrayBuffer]",Mo="[object DataView]",ut=it?it.prototype:void 0,Fe=ut?ut.valueOf:void 0;function No(n,r,c,u,v,i,a){switch(c){case Mo:if(n.byteLength!=r.byteLength||n.byteOffset!=r.byteOffset)return!1;n=n.buffer,r=r.buffer;case Io:return!(n.byteLength!=r.byteLength||!i(new ct(n),new ct(r)));case po:case ho:case wo:return co(+n,+r);case go:return n.name==r.name&&n.message==r.message;case yo:case Eo:return n==r+"";case bo:var e=fo;case Co:var t=u&mo;if(e||(e=vo),n.size!=r.size&&!t)return!1;var o=a.get(n);if(o)return o==r;u|=_o,a.set(n,r);var s=uo(e(n),e(r),u,v,i,a);return a.delete(n),s;case So:if(Fe)return Fe.call(n)==Fe.call(r)}return!1}var Ao=No,dt=_a,To=1,Po=Object.prototype,$o=Po.hasOwnProperty;function Ro(n,r,c,u,v,i){var a=c&To,e=dt(n),t=e.length,o=dt(r),s=o.length;if(t!=s&&!a)return!1;for(var l=t;l--;){var d=e[l];if(!(a?d in r:$o.call(r,d)))return!1}var f=i.get(n),p=i.get(r);if(f&&p)return f==r&&p==n;var g=!0;i.set(n,r),i.set(r,n);for(var w=a;++l<t;){d=e[l];var _=n[d],b=r[d];if(u)var E=a?u(b,_,d,r,n,i):u(_,b,d,n,r,i);if(!(E===void 0?_===b||v(_,b,c,u,i):E)){g=!1;break}w||(w=d=="constructor")}if(g&&!w){var S=n.constructor,O=r.constructor;S!=O&&"constructor"in n&&"constructor"in r&&!(typeof S=="function"&&S instanceof S&&typeof O=="function"&&O instanceof O)&&(g=!1)}return i.delete(n),i.delete(r),g}var Lo=Ro,Ve=pa,ko=Qt,zo=Ao,Oo=Lo,ft=ha,vt=wa,mt=ga,xo=ba,Bo=1,_t="[object Arguments]",pt="[object Array]",Me="[object Object]",Uo=Object.prototype,ht=Uo.hasOwnProperty;function Do(n,r,c,u,v,i){var a=vt(n),e=vt(r),t=a?pt:ft(n),o=e?pt:ft(r);t=t==_t?Me:t,o=o==_t?Me:o;var s=t==Me,l=o==Me,d=t==o;if(d&&mt(n)){if(!mt(r))return!1;a=!0,s=!1}if(d&&!s)return i||(i=new Ve),a||xo(n)?ko(n,r,c,u,v,i):zo(n,r,t,c,u,v,i);if(!(c&Bo)){var f=s&&ht.call(n,"__wrapped__"),p=l&&ht.call(r,"__wrapped__");if(f||p){var g=f?n.value():n,w=p?r.value():r;return i||(i=new Ve),v(g,w,c,u,i)}}return d?(i||(i=new Ve),Oo(n,r,c,u,v,i)):!1}var Fo=Do,Vo=Fo,gt=ya;function Ht(n,r,c,u,v){return n===r?!0:n==null||r==null||!gt(n)&&!gt(r)?n!==n&&r!==r:Vo(n,r,c,u,Ht,v)}var qo=Ht,Qo=qo;function Ho(n,r){return Qo(n,r)}var Go=Ho;const Yo=Ha(Go),Ko={class:"person-item"},Xo={class:"person-item__name"},Wo=x({__name:"UserItem",props:{uid:{}},setup(n){const r=n,{uid:c}=Va(r),u=xt(c);return(v,i)=>{const a=Je;return y(),L("li",Ko,[h(a,{class:"avatar",src:m(u).avatar,size:30},null,8,["src"]),C("div",Xo,re(m(u).name),1)])}}});const Zo=se(Wo,[["__scopeId","data-v-471aea85"]]),Jo={class:"read-unread-list",style:{overflow:"auto"}},jo={key:0,class:"read-unread-no-data"},er=x({__name:"index",setup(n){const r=Se(),c=Ce(),u={1:{list:[],cursor:"",isLast:!1},2:{list:[],cursor:"",isLast:!1}},v=P({get(){return c.currentReadUnreadList.show},set(f){c.currentReadUnreadList.show=f,f===!1&&(c.currentReadUnreadList.msgId=null,a.value=1,e[1]=Be(u[1]),e[2]=Be(u[2]))}}),i=P(()=>c.currentReadUnreadList.msgId),a=R(1),e=Ke(Be(u)),t=P(()=>e[a.value]),{send:o,data:s}=we(ie.getMsgReadList,{immediate:!1});X(s,(f,p)=>{!f||Yo(f,p)||(e[a.value].cursor=f.cursor,e[a.value].list.push(...f.list),e[a.value].isLast=f.isLast)}),X(a,(f,p)=>{f!==p&&i.value&&t.value.cursor===""&&o({params:{searchType:a.value,pageSize:20,msgId:i.value,cursor:t.value.cursor||void 0}})}),X(v,f=>{f&&i.value&&o({params:{searchType:a.value,pageSize:20,msgId:i.value,cursor:t.value.cursor||void 0}})});const l=f=>{a.value=f.paneName},d=()=>{t.value.isLast||o({params:{searchType:a.value,pageSize:20,msgId:i.value,cursor:t.value.cursor||void 0}})};return(f,p)=>{const g=An,w=Nn,_=Ee,b=Ka;return y(),G(_,{class:"msg-read-modal",modelValue:v.value,"onUpdate:modelValue":p[1]||(p[1]=E=>v.value=E),width:m(r)==="PC"?350:"85%","close-on-click-modal":!1,center:""},{default:N(()=>[h(w,{type:"border-card",stretch:"",modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=E=>a.value=E),class:"demo-tabs",onTabClick:l},{default:N(()=>{var E;return[h(g,{style:{width:"50%"},label:"已读",name:1},null,8,["name"]),h(g,{style:{width:"50%"},label:"未读",name:2},null,8,["name"]),ne((y(),L("ul",Jo,[(y(!0),L(ce,null,ze(t.value.list,S=>(y(),G(Zo,{key:S.uid,uid:S.uid},null,8,["uid"]))),128)),((E=t.value.list)==null?void 0:E.length)===0?(y(),L("li",jo,"暂无数据~")):F("",!0)])),[[b,d]])]}),_:1},8,["modelValue"])]),_:1},8,["modelValue","width"])}}});const tr=se(er,[["__scopeId","data-v-9cdede1b"]]),ar=x({__name:"SelectUser",emits:["checked"],setup(n,{emit:r}){const c=Ce(),u=Ca(),v=R([]),i=P(()=>u.contactsList),a=P(()=>c.createGroupModalInfo.selectedUid);X(i,s=>{v.value=s.map(l=>({label:l.uid,key:l.uid,initial:l.uid,disabled:!1}))},{immediate:!0,deep:!0}),X(a,s=>{s.forEach(l=>{const d=v.value.find(f=>f.key===l);d&&(d.disabled=!0)})},{immediate:!0});const e=R([]),t=(s,l)=>{const d=xt(l.key);return s("div",{style:"display:flex;align-items:center;gap:6px"},[s(Je,{src:d.value.avatar,size:20,class:"avatar"}),s("div",{class:"tem-info-name"},d.value.name)])},o=()=>{r("checked",Object.values(e.value))};return(s,l)=>{const d=Pa;return y(),G(d,{modelValue:e.value,"onUpdate:modelValue":l[0]||(l[0]=f=>e.value=f),style:{display:"inline-block","text-align":"left"},"render-content":t,titles:["Source","Target"],format:{noChecked:"${total}",hasChecked:"${checked}/${total}"},data:v.value,onChange:o},null,8,["modelValue","data"])}}});const nr=se(ar,[["__scopeId","data-v-3b8ddab9"]]),sr={class:"dialog-footer"},or=x({__name:"index",setup(n){const r=Se(),c=Ce(),u=It(),v=R([]),{send:i,loading:a}=we(ie.createGroup,{immediate:!1}),{send:e,loading:t}=we(ie.inviteGroupMember,{immediate:!1}),o=P(()=>c.createGroupModalInfo.show),s=P(()=>c.createGroupModalInfo.isInvite),l=()=>{c.createGroupModalInfo.show=!1,c.createGroupModalInfo.isInvite=!1,c.createGroupModalInfo.selectedUid=[]},d=async()=>{if(v.value.length!==0){if(s.value)await e({roomId:c.currentSession.roomId,uidList:v.value}),u.getGroupUserList(!0);else{const{id:p}=await i({uidList:v.value});Ae.success("群聊创建成功~"),c.currentSession.roomId=p,c.currentSession.type=Ea.Group}l()}},f=p=>{v.value=p};return(p,g)=>{const w=Ze,_=Ee;return y(),G(_,{class:"setting-box-modal","model-value":o.value,width:m(r)==="PC"?620:"50%","close-on-click-modal":!1,center:"","show-close":!1,onClose:l},{footer:N(()=>[C("span",sr,[h(w,{onClick:l},{default:N(()=>[te("取消")]),_:1}),h(w,{type:"primary",onClick:d,loading:m(a)||m(t),disabled:v.value.length===0},{default:N(()=>[te(re(s.value?"邀请":"创建"),1)]),_:1},8,["loading","disabled"])])]),default:N(()=>[h(nr,{onChecked:f})]),_:1},8,["model-value","width"])}}});const rr=se(or,[["__scopeId","data-v-d20f3171"]]),lr={class:"post-confirm_box"},ir={class:"contact-info"},cr=["src","title"],ur={class:"msg-body"},dr=x({__name:"PostCard",props:{session:{},message:{}},setup(n){return(r,c)=>{var u;return y(),L("div",lr,[C("div",ir,[C("img",{src:r.session.avatar,alt:"${session.avatar}",title:r.session.name,class:"session-avatar"},null,8,cr),C("span",null,re(r.session.name),1)]),C("div",ur,re(m($a)[r.message.message.type]??((u=r.message.message.body)==null?void 0:u.content)),1)])}}});const fr=se(dr,[["__scopeId","data-v-8d63643a"]]),vr=n=>(Rt("data-v-20865cca"),n=n(),Lt(),n),mr={class:"home"},_r=vr(()=>C("footer",{class:"footer"},[C("a",{href:"https://beian.miit.gov.cn/",target:"_blank",rel:"noopener"},"闽ICP备2023004110号")],-1)),pr={key:1,class:"video-play",style:{"pointer-events":"none"}},hr=x({__name:"index",setup(n){const r=Ra(),c=La(),u=He(),v=Sa(),i=R(),a=s=>{s.key==="Escape"&&c.close()};X(()=>c.isPlaying,s=>{s?window.addEventListener("keydown",a):window.removeEventListener("keydown",a)}),X(()=>u.isSign,s=>{s&&(Ma(),Na())},{immediate:!0});const e={messageId:null,dragStart(s){const l=s.target;this.messageId=Number(l.dataset.messageId)},dragOver(s){s.preventDefault();const l=s.target;l.dataset.roomId&&(l.style.backgroundColor="var(--hover-bg-1)")},dragLeave(s){s.preventDefault();const l=s.target;l.dataset.roomId&&(l.style.backgroundColor="")},drop(s){const l=s.target;if(l.dataset.roomId&&this.messageId){l.style.backgroundColor="";const d=v.getMessage(Number(this.messageId)),f=v.getSession(Number(l.dataset.roomId));d&&f&&Xa.confirm(me(fr,{session:f,message:d}),"发送给: ",{confirmButtonText:"确定",cancelButtonText:"取消",draggable:!0,dangerouslyUseHTMLString:!0}).then(()=>{ie.sendMsg({roomId:Number(l.dataset.roomId),msgType:d.message.type,body:d.message.body}).send().then(p=>{v.pushMsg(p),v.updateSessionLastActiveTime(Number(l.dataset.roomId))})})}}},t=()=>{var s,l,d,f;(s=i.value)==null||s.addEventListener("dragstart",e.dragStart),(l=i.value)==null||l.addEventListener("dragover",e.dragOver),(d=i.value)==null||d.addEventListener("dragleave",e.dragLeave),(f=i.value)==null||f.addEventListener("drop",e.drop)},o=()=>{var s,l,d,f;(s=i.value)==null||s.removeEventListener("dragstart",e.dragStart),(l=i.value)==null||l.removeEventListener("dragover",e.dragOver),(d=i.value)==null||d.removeEventListener("dragleave",e.dragLeave),(f=i.value)==null||f.removeEventListener("drop",e.drop)};return he(()=>{t()}),Xe(()=>{window.removeEventListener("keydown",a),o(),Ia()}),(s,l)=>{const d=fn,f=Ot,p=Wn,g=Kn;return y(),L("main",mr,[C("div",{class:"wrapper",ref_key:"container",ref:i},[h(Os),h(m(qa))],512),_r,m(r).isShowing?(y(),G(d,{key:0,"z-index":5e3,"initial-index":0,"zoom-rate":1.1,"hide-on-click-modal":!0,"url-list":[m(r).previewUrl],onClose:l[0]||(l[0]=w=>m(r).close())},null,8,["url-list"])):F("",!0),m(c).isPlaying?(y(),L("div",pr,[h(f,{icon:"guanbi1",class:"close",size:30,onClick:l[1]||(l[1]=w=>m(c).close())}),h(p,{url:m(c).previewUrl,style:{"pointer-events":"auto"}},null,8,["url"])])):F("",!0),h(Us),h(g),h(tr),h(rr)])}}});const Sr=se(hr,[["__scopeId","data-v-20865cca"]]);export{Sr as default};
